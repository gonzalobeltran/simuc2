<template name="PorSala">

  <div class="print-only"><h4>{{salaActiva}}</h4><br></div>

  <div class="row no-print">
    <div class="col-sm-6">
      {{> SelectorDeSala}}
    </div>
    <div class="col-sm-6">
      <input type="text" class="form-control form-control-sm" value="{{fecha}}" id="fecha">
    </div>
  </div>

  {{#if ready}}
  <br>
    <!-- Avanzar o retroceder la fecha -->
    <button type="button" class="btn btn-light js-semanaAnt"><i class="fa fa-angle-left"></i></button>
    <button type="button" class="btn btn-light float-right js-semanaSig"><i class="fa fa-angle-right"></i></button>

    <div class="main-table">
      <div class="columna1">
        {{#each modulos}}
          <div class="cabeza">{{this}}</div>
        {{/each}}
      </div>

      <div class="gtable">
        {{#each diasSemana}}
          <div class="cabeza {{diaSel}} {{hoy}}">{{dia}}</div>
        {{/each}}

        {{#each fila in tablaReservas}}
          {{#each celda in fila}}
            <div class="d-flex {{masDeUna celda}}">
              {{#each celda}}
                <div class="reserva {{accion}}" style="{{color}}" title="{{actividad}} - {{apellidos}}">
                  {{actividad}}
                  {{#if repite}}
                    <div class="pin"><i class="fa fa-map-pin"></i></div>
                  {{/if}}
                </div>
              {{/each}}
            </div>
          {{/each}}
        {{/each}}
      </div>

    </div>


  {{#if isInRole 'admin'}}
    <div class="cuadroSuperpuestas">
      <p><strong>Reservas superpuestas: </strong></p>
      {{#each superpuestas}}
        <a class="js-verReserva" href="#">{{sala}} / {{fecha}} - Modulo: {{modulo}}</a><br>
      {{else}}
        <p>No hay ninguna superposici√≥n de reservas</p>
      {{/each}}
    </div>
  {{/if}}

  {{else}}<h4>...</h4>{{/if}}

</template>
